Header:
	maxIter=50
	report=AllDetails
end
Model [type=NL domain=real eps=0.000001 name="PF for case9"]:

Vars [out=true]:

//	PV Buses
	𝑣_2=1.040000; φ_2=0.000000
	𝑣_3=1.040000; φ_3=0.000000

//	PQ Buses
	𝑣_4=1.000000; φ_4=0.000000
	𝑣_5=1.000000; φ_5=0.000000
	𝑣_6=1.000000; φ_6=0.000000
	𝑣_7=1.000000; φ_7=0.000000
	𝑣_8=1.000000; φ_8=0.000000
	𝑣_9=1.000000; φ_9=0.000000

Params:

//	Slack Bus
	𝑣_1=1.040000 [out=true]
	φ_1=0.000000 [out=true]

//	Admittance Matrix
	𝑦_1_1=17.361111; θ_1_1=-1.570796     
	𝑦_1_4=17.361111; θ_1_4=1.570796     //line 1-4
	𝑦_2_2=16.000000; θ_2_2=-1.570796     
	𝑦_2_8=16.000000; θ_2_8=1.570796     //line 2-8
	𝑦_3_3=17.064846; θ_3_3=-1.570796     
	𝑦_3_6=17.064846; θ_3_6=1.570796     //line 3-6
	𝑦_4_1=17.361111; θ_4_1=1.570796     //line 1-4
	𝑦_4_4=39.447782; θ_4_4=-1.486856     
	𝑦_4_5=10.688617; θ_4_5=1.753518     //line 4-5
	𝑦_4_9=11.684125; θ_4_9=1.687905     //line 4-9
	𝑦_5_4=10.688617; θ_5_4=1.753518     //line 4-5
	𝑦_5_5=16.165718; θ_5_5=-1.370003     
	𝑦_5_6=5.733413; θ_5_6=1.796306     //line 5-6
	𝑦_6_3=17.064846; θ_6_3=1.570796     //line 3-6
	𝑦_6_5=5.733413; θ_6_5=1.796306     //line 5-6
	𝑦_6_6=32.246089; θ_6_6=-1.495146     
	𝑦_6_7=9.852217; θ_6_7=1.688308     //line 6-7
	𝑦_7_6=9.852217; θ_7_6=1.688308     //line 6-7
	𝑦_7_7=23.467564; θ_7_7=-1.452390     
	𝑦_7_8=13.793103; θ_7_8=1.688308     //line 7-8
	𝑦_8_2=16.000000; θ_8_2=1.570796     //line 2-8
	𝑦_8_7=13.793103; θ_8_7=1.688308     //line 7-8
	𝑦_8_8=35.556406; θ_8_8=-1.491833     
	𝑦_8_9=6.092014; θ_8_9=1.766997     //line 8-9
	𝑦_9_4=11.684125; θ_9_4=1.687905     //line 4-9
	𝑦_9_8=6.092014; θ_9_8=1.766997     //line 8-9
	𝑦_9_9=17.525153; θ_9_9=-1.424612     

//	PV Buses
	Pg_2=1.630000; Pd_2=0.000000; vsp_2=1.025000
	Qinj_2=0.065400; Qinj_min_2=-3.000000; Qinj_max_2=3.000000
	cGen2Reg_2=true [type=bool]

	Pg_3=0.850000; Pd_3=0.000000; vsp_3=1.025000
	Qinj_3=-0.109500; Qinj_min_3=-3.000000; Qinj_max_3=3.000000
	cGen2Reg_3=true [type=bool]

//	PQ Buses
	Pd_4=0.000000; Qd_4=0.000000
	Pd_5=0.900000; Qd_5=0.300000
	Pd_6=0.000000; Qd_6=0.000000
	Pd_7=1.000000; Qd_7=0.350000
	Pd_8=0.000000; Qd_8=0.000000
	Pd_9=1.250000; Qd_9=0.500000

NLEs:

//	PV Buses
	𝑣_2*𝑦_2_2*𝑣_2*cos(φ_2-θ_2_2-φ_2) + 𝑣_2*𝑦_2_8*𝑣_8*cos(φ_2-θ_2_8-φ_8) = Pg_2-Pd_2
	if cGen2Reg_2:
		𝑣_2 = vsp_2
	else:
		𝑣_2*𝑦_2_2*𝑣_2*sin(φ_2-θ_2_2-φ_2) + 𝑣_2*𝑦_2_8*𝑣_8*sin(φ_2-θ_2_8-φ_8) = Qinj_2
	end

	𝑣_3*𝑦_3_3*𝑣_3*cos(φ_3-θ_3_3-φ_3) + 𝑣_3*𝑦_3_6*𝑣_6*cos(φ_3-θ_3_6-φ_6) = Pg_3-Pd_3
	if cGen2Reg_3:
		𝑣_3 = vsp_3
	else:
		𝑣_3*𝑦_3_3*𝑣_3*sin(φ_3-θ_3_3-φ_3) + 𝑣_3*𝑦_3_6*𝑣_6*sin(φ_3-θ_3_6-φ_6) = Qinj_3
	end

//	PQ Buses
	𝑣_4*𝑦_4_1*𝑣_1*cos(φ_4-θ_4_1-φ_1) + 𝑣_4*𝑦_4_4*𝑣_4*cos(φ_4-θ_4_4-φ_4) + 𝑣_4*𝑦_4_5*𝑣_5*cos(φ_4-θ_4_5-φ_5) + 𝑣_4*𝑦_4_9*𝑣_9*cos(φ_4-θ_4_9-φ_9) = -Pd_4
	𝑣_4*𝑦_4_1*𝑣_1*sin(φ_4-θ_4_1-φ_1) + 𝑣_4*𝑦_4_4*𝑣_4*sin(φ_4-θ_4_4-φ_4) + 𝑣_4*𝑦_4_5*𝑣_5*sin(φ_4-θ_4_5-φ_5) + 𝑣_4*𝑦_4_9*𝑣_9*sin(φ_4-θ_4_9-φ_9) = -Qd_4

	𝑣_5*𝑦_5_4*𝑣_4*cos(φ_5-θ_5_4-φ_4) + 𝑣_5*𝑦_5_5*𝑣_5*cos(φ_5-θ_5_5-φ_5) + 𝑣_5*𝑦_5_6*𝑣_6*cos(φ_5-θ_5_6-φ_6) = -Pd_5
	𝑣_5*𝑦_5_4*𝑣_4*sin(φ_5-θ_5_4-φ_4) + 𝑣_5*𝑦_5_5*𝑣_5*sin(φ_5-θ_5_5-φ_5) + 𝑣_5*𝑦_5_6*𝑣_6*sin(φ_5-θ_5_6-φ_6) = -Qd_5

	𝑣_6*𝑦_6_3*𝑣_3*cos(φ_6-θ_6_3-φ_3) + 𝑣_6*𝑦_6_5*𝑣_5*cos(φ_6-θ_6_5-φ_5) + 𝑣_6*𝑦_6_6*𝑣_6*cos(φ_6-θ_6_6-φ_6) + 𝑣_6*𝑦_6_7*𝑣_7*cos(φ_6-θ_6_7-φ_7) = -Pd_6
	𝑣_6*𝑦_6_3*𝑣_3*sin(φ_6-θ_6_3-φ_3) + 𝑣_6*𝑦_6_5*𝑣_5*sin(φ_6-θ_6_5-φ_5) + 𝑣_6*𝑦_6_6*𝑣_6*sin(φ_6-θ_6_6-φ_6) + 𝑣_6*𝑦_6_7*𝑣_7*sin(φ_6-θ_6_7-φ_7) = -Qd_6

	𝑣_7*𝑦_7_6*𝑣_6*cos(φ_7-θ_7_6-φ_6) + 𝑣_7*𝑦_7_7*𝑣_7*cos(φ_7-θ_7_7-φ_7) + 𝑣_7*𝑦_7_8*𝑣_8*cos(φ_7-θ_7_8-φ_8) = -Pd_7
	𝑣_7*𝑦_7_6*𝑣_6*sin(φ_7-θ_7_6-φ_6) + 𝑣_7*𝑦_7_7*𝑣_7*sin(φ_7-θ_7_7-φ_7) + 𝑣_7*𝑦_7_8*𝑣_8*sin(φ_7-θ_7_8-φ_8) = -Qd_7

	𝑣_8*𝑦_8_2*𝑣_2*cos(φ_8-θ_8_2-φ_2) + 𝑣_8*𝑦_8_7*𝑣_7*cos(φ_8-θ_8_7-φ_7) + 𝑣_8*𝑦_8_8*𝑣_8*cos(φ_8-θ_8_8-φ_8) + 𝑣_8*𝑦_8_9*𝑣_9*cos(φ_8-θ_8_9-φ_9) = -Pd_8
	𝑣_8*𝑦_8_2*𝑣_2*sin(φ_8-θ_8_2-φ_2) + 𝑣_8*𝑦_8_7*𝑣_7*sin(φ_8-θ_8_7-φ_7) + 𝑣_8*𝑦_8_8*𝑣_8*sin(φ_8-θ_8_8-φ_8) + 𝑣_8*𝑦_8_9*𝑣_9*sin(φ_8-θ_8_9-φ_9) = -Qd_8

	𝑣_9*𝑦_9_4*𝑣_4*cos(φ_9-θ_9_4-φ_4) + 𝑣_9*𝑦_9_8*𝑣_8*cos(φ_9-θ_9_8-φ_8) + 𝑣_9*𝑦_9_9*𝑣_9*cos(φ_9-θ_9_9-φ_9) = -Pd_9
	𝑣_9*𝑦_9_4*𝑣_4*sin(φ_9-θ_9_4-φ_4) + 𝑣_9*𝑦_9_8*𝑣_8*sin(φ_9-θ_9_8-φ_8) + 𝑣_9*𝑦_9_9*𝑣_9*sin(φ_9-θ_9_9-φ_9) = -Qd_9

Limits:

	group [name="smallPower" enabled=true]:
	end
	group [name="mediumPower" enabled=true]:
		if cGen2Reg_3:
			Qinj_3 = 𝑣_3*𝑦_3_3*𝑣_3*sin(φ_3-θ_3_3-φ_3) + 𝑣_3*𝑦_3_6*𝑣_6*sin(φ_3-θ_3_6-φ_6)  
			if Qinj_3 <= Qinj_min_3 [signal=TooLow]:
				cGen2Reg_3=false
				Qinj_3=Qinj_min_3
			else:
				if Qinj_3 >= Qinj_max_3 [signal=TooHigh]:
					cGen2Reg_3=false
					Qinj_3=Qinj_max_3
				end
			end
		end

	end
	group [name="highPower" enabled=true]:
		if cGen2Reg_2:
			Qinj_2 = 𝑣_2*𝑦_2_2*𝑣_2*sin(φ_2-θ_2_2-φ_2) + 𝑣_2*𝑦_2_8*𝑣_8*sin(φ_2-θ_2_8-φ_8)  
			if Qinj_2 <= Qinj_min_2 [signal=TooLow]:
				cGen2Reg_2=false
				Qinj_2=Qinj_min_2
			else:
				if Qinj_2 >= Qinj_max_2 [signal=TooHigh]:
					cGen2Reg_2=false
					Qinj_2=Qinj_max_2
				end
			end
		end

	end
	group [name="ultraHighPower" enabled=true]:
	end

end